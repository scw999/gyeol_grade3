<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>결하다 등급 계산기</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .tier-platinum { background-color: #e5e4e2; color: #36454f; }
        .tier-gold { background-color: #ffd700; color: #4a2c00; }
        .tier-silver { background-color: #c0c0c0; color: #333333; }
        .tier-bronze { background-color: #cd7f32; color: #ffffff; }
        .tier-general { background-color: #f0f0f0; color: #555555; }
        .tier-border-platinum { border: 2px solid #c0c0c0; }
        .tier-border-gold { border: 2px solid #e1b200; }
        .tier-border-silver { border: 2px solid #a0a0a0; }
        .tier-border-bronze { border: 2px solid #a96628; }
        .tier-border-general { border: 2px solid #dcdcdc; }
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%236b7280%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 0.7rem center;
            background-size: 0.65rem;
        }
        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        details > summary::before {
            content: '▶';
            margin-right: 0.5rem;
            display: inline-block;
            transition: transform 0.2s;
        }
        details[open] > summary::before {
            transform: rotate(90deg);
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">결하다 등급 계산기</h1>
            <p class="text-gray-600 mt-2">각 항목을 선택하여 남성과 여성의 프로필 점수를 계산해보세요.</p>
        </header>

        <!-- Calculator Section -->
        <div class="bg-white p-6 rounded-2xl shadow-lg mb-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Male Profile -->
                <div id="male-profile" class="space-y-4">
                    <h2 class="text-2xl font-bold text-blue-600 border-b-2 pb-2 border-blue-200">🤵 남성 프로필</h2>
                    <div class="space-y-3 p-4 bg-blue-50 rounded-lg">
                        <h3 class="font-semibold text-lg">핵심 항목</h3>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">학력</label><select id="male-education" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">직업</label><select id="male-profession" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">소득</label><select id="male-income" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">자산</label><select id="male-asset" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">나이</label><select id="male-age" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">외모</label><select id="male-appearance" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                    </div>
                    <div class="space-y-3 p-4 bg-blue-50 rounded-lg">
                        <h3 class="font-semibold text-lg">가산점 항목</h3>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">차</label><select id="male-car" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">부모/가족 자산</label><select id="male-family-asset" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">키</label><select id="male-height" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">몸무게</label><select id="male-weight" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">본인사진 인증</label><select id="male-photo" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">회사 인증</label><select id="male-company" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">박사/석사 학위</label><select id="male-degree" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-blue-500 focus:border-blue-500"></select></div>
                    </div>
                </div>

                <!-- Female Profile -->
                <div id="female-profile" class="space-y-4">
                    <h2 class="text-2xl font-bold text-red-600 border-b-2 pb-2 border-red-200">👰‍♀️ 여성 프로필</h2>
                    <div class="space-y-3 p-4 bg-red-50 rounded-lg">
                        <h3 class="font-semibold text-lg">핵심 항목</h3>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">학력</label><select id="female-education" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">직업</label><select id="female-profession" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">소득</label><select id="female-income" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">자산</label><select id="female-asset" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">나이</label><select id="female-age" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">외모</label><select id="female-appearance" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                    </div>
                    <div class="space-y-3 p-4 bg-red-50 rounded-lg">
                        <h3 class="font-semibold text-lg">가산점 항목</h3>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">차</label><select id="female-car" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">부모/가족 자산</label><select id="female-family-asset" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">키</label><select id="female-height" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">몸무게</label><select id="female-weight" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">본인사진 인증</label><select id="female-photo" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">회사 인증</label><select id="female-company" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                        <div><label class="block text-sm font-medium text-gray-700 mb-1">미인대회/모델 경력</label><select id="female-career" class="w-full p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:ring-red-500 focus:border-red-500"></select></div>
                    </div>
                </div>
            </div>

            <div class="mt-8 text-center">
                <button id="calculate-btn" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition-all duration-300 text-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                    결과 확인
                </button>
            </div>

            <div id="results-container" class="mt-8 hidden">
                <div id="results" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div id="male-result-card" class="text-center p-6 rounded-xl">
                        <h3 class="text-2xl font-bold mb-2">남성 점수</h3>
                        <p id="male-score" class="text-5xl font-bold mb-2"></p>
                        <p id="male-tier" class="text-2xl font-semibold px-4 py-1 rounded-full inline-block"></p>
                    </div>
                    <div id="female-result-card" class="text-center p-6 rounded-xl">
                        <h3 class="text-2xl font-bold mb-2">여성 점수</h3>
                        <p id="female-score" class="text-5xl font-bold mb-2"></p>
                        <p id="female-tier" class="text-2xl font-semibold px-4 py-1 rounded-full inline-block"></p>
                    </div>
                </div>
                 <div id="match-result" class="mt-6 text-center">
                    <h3 class="text-2xl font-bold mb-4 text-gray-800">매칭 상태 분석</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div id="male-match-status" class="p-4 bg-gray-100 rounded-lg"></div>
                        <div id="female-match-status" class="p-4 bg-gray-100 rounded-lg"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tier Grade Table -->
        <div class="bg-white p-6 rounded-2xl shadow-lg mb-8">
            <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6 text-center">티어 등급 점수표</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">티어</th>
                            <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">점수 범위 (120점 만점)</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200 text-center">
                        <tr><td class="px-6 py-4 font-semibold tier-platinum">플래티넘</td><td class="px-6 py-4">110-120점</td></tr>
                        <tr><td class="px-6 py-4 font-semibold tier-gold">골드</td><td class="px-6 py-4">90-109점</td></tr>
                        <tr><td class="px-6 py-4 font-semibold tier-silver">실버</td><td class="px-6 py-4">70-89점</td></tr>
                        <tr><td class="px-6 py-4 font-semibold tier-bronze">브론즈</td><td class="px-6 py-4">50-69점</td></tr>
                        <tr><td class="px-6 py-4 font-semibold tier-general">일반</td><td class="px-6 py-4">0-49점</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Detailed Criteria Section -->
        <div class="bg-white p-6 rounded-2xl shadow-lg">
            <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6 text-center">세부 점수 기준표</h2>
            <div class="space-y-4">
                <details><summary class="font-semibold text-xl cursor-pointer hover:text-indigo-600">1. 학력</summary><div class="mt-2 p-4 bg-gray-50 rounded-lg overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead>...</thead><tbody>...</tbody></table></div></details>
                <details open><summary class="font-semibold text-xl cursor-pointer hover:text-indigo-600">2. 직업</summary>
                    <div class="mt-2 p-4 bg-gray-50 rounded-lg overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-100"><tr><th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">항목</th><th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">세부 내용</th><th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">남성(30)</th><th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">여성(31.25)</th></tr></thead>
                            <tbody class="bg-white divide-y divide-gray-200 text-sm">
                                <tr><td class="px-4 py-3 font-semibold">최상위 직군</td><td class="px-4 py-3">국회의원, 광역단체장, 차관급 이상 공무원, Top 연예인/인플루언서(100만+), 대형병원장, 국제대회 우승 스포츠 스타, 상장사 대표</td><td class="px-4 py-3">30.0</td><td class="px-4 py-3">31.25</td></tr>
                                <tr><td class="px-4 py-3 font-semibold">상위 직군</td><td class="px-4 py-3">5급 공무원, 국대급 스포츠맨, 성형/피부과 의사, CEO(매출 40억+), 4년제 대학 총장/학장, 외교관, 인플루언서(50만+)</td><td class="px-4 py-3">27.0</td><td class="px-4 py-3">28.0</td></tr>
                                <tr><td class="px-4 py-3 font-semibold">전문직</td><td class="px-4 py-3">변리사, 의사, 치과의사, 변호사, 회계사, 세무사, 약사, 수의사, 한의사, 대학교수(정교수 등)</td><td class="px-4 py-3">25.0</td><td class="px-4 py-3">26.0</td></tr>
                                <tr><td class="px-4 py-3 font-semibold">대기업/주요 공무원</td><td class="px-4 py-3">4대 그룹 정규직, 주요 대기업/공기업/금융권/언론사/외국계 정규직, 6급 공무원, CEO(매출 20억+), 지역대표급 스포츠맨</td><td class="px-4 py-3">20.0</td><td class="px-4 py-3">21.0</td></tr>
                                <tr><td class="px-4 py-3 font-semibold">중견기업/일반 공무원</td><td class="px-4 py-3">중견기업 정규직, 7급 공무원, 관세사, 법무사, 행정사</td><td class="px-4 py-3">15.0</td><td class="px-4 py-3">16.0</td></tr>
                                <tr><td class="px-4 py-3 font-semibold">중소기업/고소득 프리랜서/자영업</td><td class="px-4 py-3">중소기업 정규직, 프리랜서(연 7천만+), 자영업(연 매출 3억+)</td><td class="px-4 py-3">8.0</td><td class="px-4 py-3">8.0</td></tr>
                                <tr><td class="px-4 py-3 font-semibold">기타</td><td class="px-4 py-3">계약직, 아르바이트, 취준생, 프리랜서(연 7천만-), 자영업(연 매출 3억-)</td><td class="px-4 py-3">4.0</td><td class="px-4 py-3">4.0</td></tr>
                            </tbody>
                        </table>
                    </div>
                </details>
                <details><summary class="font-semibold text-xl cursor-pointer hover:text-indigo-600">3. 소득</summary><div class="mt-2 p-4 bg-gray-50 rounded-lg overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead>...</thead><tbody>...</tbody></table></div></details>
                <details><summary class="font-semibold text-xl cursor-pointer hover:text-indigo-600">4. 개인 자산</summary><div class="mt-2 p-4 bg-gray-50 rounded-lg overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead>...</thead><tbody>...</tbody></table></div></details>
                <details><summary class="font-semibold text-xl cursor-pointer hover:text-indigo-600">5. 나이</summary><div class="mt-2 p-4 bg-gray-50 rounded-lg overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead>...</thead><tbody>...</tbody></table></div></details>
                <details><summary class="font-semibold text-xl cursor-pointer hover:text-indigo-600">6. 외모</summary><div class="mt-2 p-4 bg-gray-50 rounded-lg overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead>...</thead><tbody>...</tbody></table></div></details>
                <details><summary class="font-semibold text-xl cursor-pointer hover:text-indigo-600">7. 가산점 항목</summary><div class="mt-2 p-4 bg-gray-50 rounded-lg"><p class="text-sm text-gray-600">각 항목별 최대 5점, 총점은 20점 만점으로 정규화됩니다.</p></div></details>
            </div>
        </div>
    </div>

    <script>
        const scoreData = {
            male: {
                core: {
                    education: [ { text: 'QS/THE Top 10 학사', value: 20 }, { text: 'SKY/KAIST/POSTECH, QS/THE Top 50 학사', value: 18 }, { text: '국내 6-8위, QS/THE Top 100 학사', value: 17 }, { text: '국내 9-20위 학사', value: 15 }, { text: '일반 4년제/기타 해외대 학사', value: 13 }, { text: '전문학사', value: 10 }, { text: '고졸 이상', value: 7 }, { text: '고졸 검정고시', value: 2 }, ],
                    profession: [ { text: '최상위 직군', value: 30 }, { text: '상위 직군', value: 27 }, { text: '전문직', value: 25 }, { text: '대기업/주요 공무원', value: 20 }, { text: '중견기업/일반 공무원', value: 15 }, { text: '중소기업/고소득 프리랜서/자영업', value: 8 }, { text: '기타', value: 4 }, ],
                    income: [ { text: '연봉 2억 이상', value: 27.5 }, { text: '연봉 1.5억 ~ 2억', value: 23 }, { text: '연봉 1억 ~ 1.5억', value: 18 }, { text: '연봉 7천 ~ 1억', value: 14 }, { text: '연봉 5천 ~ 7천', value: 9 }, { text: '연봉 3천 ~ 5천', value: 5 }, { text: '연봉 3천 미만', value: 2 }, ],
                    asset: [ { text: '순자산 10억 이상', value: 22.5 }, { text: '순자산 5억 ~ 10억', value: 19 }, { text: '순자산 3억 ~ 5억', value: 15 }, { text: '순자산 1억 ~ 3억', value: 11 }, { text: '순자산 5천 ~ 1억', value: 8 }, { text: '순자산 1천 ~ 5천', value: 4 }, { text: '순자산 1천 미만', value: 2 }, ],
                    age: [ { text: '만 26세 ~ 33세', value: 15 }, { text: '만 34세 ~ 39세', value: 12 }, { text: '만 40세 ~ 45세', value: 8 }, { text: '만 46세 이상', value: 4 }, ],
                    appearance: [ { text: '상위 5% (연예인급)', value: 20 }, { text: '상위 20% (매우 매력적)', value: 18 }, { text: '평균 이상 (매력적)', value: 13 }, { text: '평균 (보통)', value: 8 }, { text: '평균 이하 (개선 필요)', value: 3 }, ],
                },
                bonus: {
                    car: [ { text: '해당 없음', value: 0 }, { text: '차량 소유', value: 2 }, { text: '1억 이상 고급차', value: 5 } ],
                    family_asset: [ { text: '해당 없음', value: 0 }, { text: '가족 순자산 10억 이상', value: 2 }, { text: '가족 순자산 50억 이상', value: 5 } ],
                    height: [ { text: '175cm 미만', value: 0 }, { text: '175cm 이상', value: 2 }, { text: '180cm 이상', value: 5 } ],
                    weight: [ { text: '해당 없음', value: 0 }, { text: 'BMI 정상~과체중 & 인바디 70점+', value: 2 }, { text: 'BMI 정상 & 인바디 80점+', value: 5 } ],
                    photo: [ { text: '미인증', value: 0 }, { text: '인증 완료', value: 5 } ],
                    company: [ { text: '미인증', value: 0 }, { text: '중견/공무원', value: 2 }, { text: '대기업/주요 공기업', value: 5 } ],
                    degree: [ { text: '해당 없음', value: 0 }, { text: '석사 학위', value: 3 }, { text: '박사 학위', value: 5 } ],
                },
                maxCore: 135.0, maxBonus: 38.0
            },
            female: {
                core: {
                    education: [ { text: 'QS/THE Top 10 학사', value: 23.75 }, { text: 'SKY/KAIST/POSTECH, QS/THE Top 50 학사', value: 21 }, { text: '국내 6-8위, QS/THE Top 100 학사', value: 19 }, { text: '국내 9-20위 학사', value: 17 }, { text: '일반 4년제/기타 해외대 학사', value: 15 }, { text: '전문학사', value: 12 }, { text: '고졸 이상', value: 8 }, { text: '고졸 검정고시', value: 4 }, ],
                    profession: [ { text: '최상위 직군', value: 31.25 }, { text: '상위 직군', value: 28 }, { text: '전문직', value: 26 }, { text: '대기업/주요 공무원', value: 21 }, { text: '중견기업/일반 공무원', value: 16 }, { text: '중소기업/고소득 프리랜서/자영업', value: 8 }, { text: '기타', value: 4 }, ],
                    income: [ { text: '연봉 2억 이상', value: 21.25 }, { text: '연봉 1.5억 ~ 2억', value: 18 }, { text: '연봉 1억 ~ 1.5억', value: 14 }, { text: '연봉 7천 ~ 1억', value: 11 }, { text: '연봉 5천 ~ 7천', value: 7 }, { text: '연봉 3천 ~ 5천', value: 4 }, { text: '연봉 3천 미만', value: 1 }, ],
                    asset: [ { text: '순자산 10억 이상', value: 23.75 }, { text: '순자산 5억 ~ 10억', value: 20 }, { text: '순자산 3억 ~ 5억', value: 16 }, { text: '순자산 1억 ~ 3억', value: 12 }, { text: '순자산 5천 ~ 1억', value: 9 }, { text: '순자산 1천 ~ 5천', value: 4 }, { text: '순자산 1천 미만', value: 2 }, ],
                    age: [ { text: '만 24세 ~ 27세', value: 35 }, { text: '만 28세 ~ 29세', value: 30 }, { text: '만 30세 ~ 33세', value: 25 }, { text: '만 34세 ~ 36세', value: 18 }, { text: '만 37세 ~ 39세', value: 10 }, { text: '만 40세 이상', value: 5 }, ],
                    appearance: [ { text: '상위 5% (연예인급)', value: 40 }, { text: '상위 20% (매우 매력적)', value: 35 }, { text: '평균 이상 (매력적)', value: 25 }, { text: '평균 (보통)', value: 15 }, { text: '평균 이하 (개선 필요)', value: 5 }, ],
                },
                bonus: {
                    car: [ { text: '해당 없음', value: 0 }, { text: '차량 소유', value: 2 }, { text: '1억 이상 고급차', value: 5 } ],
                    family_asset: [ { text: '해당 없음', value: 0 }, { text: '가족 순자산 10억 이상', value: 2 }, { text: '가족 순자산 50억 이상', value: 5 } ],
                    height: [ { text: '165cm 미만', value: 0 }, { text: '165cm 이상', value: 2 } ],
                    weight: [ { text: '해당 없음', value: 0 }, { text: 'BMI 정상~과체중 & 인바디 70점+', value: 2 }, { text: 'BMI 정상 & 인바디 80점+', value: 5 } ],
                    photo: [ { text: '미인증', value: 0 }, { text: '인증 완료', value: 5 } ],
                    company: [ { text: '미인증', value: 0 }, { text: '중견/공무원', value: 2 }, { text: '대기업/주요 공기업', value: 5 } ],
                    career: [ { text: '해당 없음', value: 0 }, { text: '미인대회/모델 경력', value: 5 } ],
                },
                maxCore: 175.0, maxBonus: 32.0
            }
        };

        function populateSelect(selectId, options) {
            const select = document.getElementById(selectId);
            if (!select) return;
            select.innerHTML = '';
            
            // Add default option
            const defaultOpt = document.createElement('option');
            defaultOpt.textContent = '선택해주세요';
            defaultOpt.value = '0';
            defaultOpt.disabled = true;
            defaultOpt.selected = true;
            select.appendChild(defaultOpt);

            options.forEach(option => {
                const opt = document.createElement('option');
                opt.value = option.value;
                opt.textContent = option.text;
                select.appendChild(opt);
            });
        }

        function initializeDropdowns() {
            Object.keys(scoreData.male.core).forEach(cat => populateSelect(`male-${cat}`, scoreData.male.core[cat]));
            Object.keys(scoreData.male.bonus).forEach(cat => populateSelect(`male-${cat.replace('_', '-')}`, scoreData.male.bonus[cat]));
            Object.keys(scoreData.female.core).forEach(cat => populateSelect(`female-${cat}`, scoreData.female.core[cat]));
            Object.keys(scoreData.female.bonus).forEach(cat => populateSelect(`female-${cat.replace('_', '-')}`, scoreData.female.bonus[cat]));
        }

        function calculateScore(gender) {
            const data = scoreData[gender];
            let coreScore = 0;
            let bonusScore = 0;
            let allSelected = true;

            Object.keys(data.core).forEach(category => {
                const select = document.getElementById(`${gender}-${category}`);
                if (select.value === '0') allSelected = false;
                coreScore += parseFloat(select.value);
            });
            Object.keys(data.bonus).forEach(category => {
                const select = document.getElementById(`${gender}-${category.replace('_', '-')}`);
                if (select.value === '0') {
                    // Bonus items can be unselected, so we don't set allSelected to false here
                }
                bonusScore += parseFloat(select.value);
            });

            // If not all core items are selected, return null to indicate incomplete form
            if (!allSelected) return null;

            const normalizedCore = (coreScore / data.maxCore) * 100;
            const normalizedBonus = (bonusScore / data.maxBonus) * 20;
            return normalizedCore + normalizedBonus;
        }

        function getTier(score) {
            if (score >= 110) return { tier: '플래티넘', className: 'tier-platinum', borderClassName: 'tier-border-platinum' };
            if (score >= 90) return { tier: '골드', className: 'tier-gold', borderClassName: 'tier-border-gold' };
            if (score >= 70) return { tier: '실버', className: 'tier-silver', borderClassName: 'tier-border-silver' };
            if (score >= 50) return { tier: '브론즈', className: 'tier-bronze', borderClassName: 'tier-border-bronze' };
            return { tier: '일반', className: 'tier-general', borderClassName: 'tier-border-general' };
        }
        
        function getTierLevel(score) {
            if (score >= 110) return 4;
            if (score >= 90) return 3;
            if (score >= 70) return 2;
            if (score >= 50) return 1;
            return 0;
        }

        function getMatchStatus(myScore, partnerScore) {
            const myTierLevel = getTierLevel(myScore);
            const partnerTierLevel = getTierLevel(partnerScore);
            const diff = partnerTierLevel - myTierLevel;

            if (diff > 0) return `<span class="font-bold text-green-600">${diff}단계 상향 매칭!</span> (상대 점수: ${partnerScore.toFixed(1)}점)`;
            if (diff < 0) return `<span class="font-bold text-red-600">${Math.abs(diff)}단계 하향 매칭!</span> (상대 점수: ${partnerScore.toFixed(1)}점)`;
            return `<span class="font-bold text-blue-600">정상 매칭!</span> (상대 점수: ${partnerScore.toFixed(1)}점)`;
        }

        document.addEventListener('DOMContentLoaded', () => {
            initializeDropdowns();
            const calculateBtn = document.getElementById('calculate-btn');
            const resultsContainer = document.getElementById('results-container');

            const detailSections = document.querySelectorAll('.space-y-4 details');
            detailSections.forEach(detail => {
                const summaryText = detail.querySelector('summary').textContent;
                if (summaryText.includes('학력')) {
                    detail.querySelector('div').innerHTML = `<table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-100"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">항목</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">남성 (20점)</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">여성 (23.75점)</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr><td class="px-6 py-4">QS/THE Top 10 학사</td><td class="px-6 py-4">20.0</td><td class="px-6 py-4">23.75</td></tr><tr><td class="px-6 py-4">SKY/KAIST/POSTECH, QS/THE Top 50 학사</td><td class="px-6 py-4">18.0</td><td class="px-6 py-4">21.0</td></tr><tr><td class="px-6 py-4">국내 6-8위, QS/THE Top 100 학사</td><td class="px-6 py-4">17.0</td><td class="px-6 py-4">19.0</td></tr><tr><td class="px-6 py-4">국내 9-20위 학사</td><td class="px-6 py-4">15.0</td><td class="px-6 py-4">17.0</td></tr><tr><td class="px-6 py-4">일반 4년제/기타 해외대 학사</td><td class="px-6 py-4">13.0</td><td class="px-6 py-4">15.0</td></tr><tr><td class="px-6 py-4">전문학사</td><td class="px-6 py-4">10.0</td><td class="px-6 py-4">12.0</td></tr><tr><td class="px-6 py-4">고졸 이상</td><td class="px-6 py-4">7.0</td><td class="px-6 py-4">8.0</td></tr><tr><td class="px-6 py-4">고졸 검정고시</td><td class="px-6 py-4">2.0</td><td class="px-6 py-4">4.0</td></tr></tbody></table>`;
                } else if (summaryText.includes('소득')) {
                     detail.querySelector('div').innerHTML = `<table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-100"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">항목</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">남성 (27.5점)</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">여성 (21.25점)</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr><td class="px-6 py-4">연봉 2억 이상</td><td class="px-6 py-4">27.5</td><td class="px-6 py-4">21.25</td></tr><tr><td class="px-6 py-4">연봉 1.5억 ~ 2억</td><td class="px-6 py-4">23.0</td><td class="px-6 py-4">18.0</td></tr><tr><td class="px-6 py-4">연봉 1억 ~ 1.5억</td><td class="px-6 py-4">18.0</td><td class="px-6 py-4">14.0</td></tr><tr><td class="px-6 py-4">연봉 7천 ~ 1억</td><td class="px-6 py-4">14.0</td><td class="px-6 py-4">11.0</td></tr><tr><td class="px-6 py-4">연봉 5천 ~ 7천</td><td class="px-6 py-4">9.0</td><td class="px-6 py-4">7.0</td></tr><tr><td class="px-6 py-4">연봉 3천 ~ 5천</td><td class="px-6 py-4">5.0</td><td class="px-6 py-4">4.0</td></tr><tr><td class="px-6 py-4">연봉 3천 미만</td><td class="px-6 py-4">2.0</td><td class="px-6 py-4">1.0</td></tr></tbody></table>`;
                } else if (summaryText.includes('개인 자산')) {
                    detail.querySelector('div').innerHTML = `<table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-100"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">항목</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">남성 (22.5점)</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">여성 (23.75점)</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr><td class="px-6 py-4">순자산 10억 이상</td><td class="px-6 py-4">22.5</td><td class="px-6 py-4">23.75</td></tr><tr><td class="px-6 py-4">순자산 5억 ~ 10억</td><td class="px-6 py-4">19.0</td><td class="px-6 py-4">20.0</td></tr><tr><td class="px-6 py-4">순자산 3억 ~ 5억</td><td class="px-6 py-4">15.0</td><td class="px-6 py-4">16.0</td></tr><tr><td class="px-6 py-4">순자산 1억 ~ 3억</td><td class="px-6 py-4">11.0</td><td class="px-6 py-4">12.0</td></tr><tr><td class="px-6 py-4">순자산 5천 ~ 1억</td><td class="px-6 py-4">8.0</td><td class="px-6 py-4">9.0</td></tr><tr><td class="px-6 py-4">순자산 1천 ~ 5천</td><td class="px-6 py-4">4.0</td><td class="px-6 py-4">4.0</td></tr><tr><td class="px-6 py-4">순자산 1천 미만</td><td class="px-6 py-4">2.0</td><td class="px-6 py-4">2.0</td></tr></tbody></table>`;
                } else if (summaryText.includes('나이')) {
                    detail.querySelector('div').innerHTML = `<table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-100"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">항목</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">남성 (15점)</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">여성 (35점)</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr><td class="px-6 py-4">만 24-27세</td><td class="px-6 py-4">-</td><td class="px-6 py-4">35.0</td></tr><tr><td class="px-6 py-4">만 26-33세</td><td class="px-6 py-4">15.0</td><td class="px-6 py-4">-</td></tr><tr><td class="px-6 py-4">만 28-29세</td><td class="px-6 py-4">-</td><td class="px-6 py-4">30.0</td></tr><tr><td class="px-6 py-4">만 30-33세</td><td class="px-6 py-4">-</td><td class="px-6 py-4">25.0</td></tr><tr><td class="px-6 py-4">만 34-36세</td><td class="px-6 py-4">-</td><td class="px-6 py-4">18.0</td></tr><tr><td class="px-6 py-4">만 34-39세</td><td class="px-6 py-4">12.0</td><td class="px-6 py-4">-</td></tr><tr><td class="px-6 py-4">만 37-39세</td><td class="px-6 py-4">-</td><td class="px-6 py-4">10.0</td></tr><tr><td class="px-6 py-4">만 40-45세</td><td class="px-6 py-4">8.0</td><td class="px-6 py-4">-</td></tr><tr><td class="px-6 py-4">만 40세 이상</td><td class="px-6 py-4">-</td><td class="px-6 py-4">5.0</td></tr><tr><td class="px-6 py-4">만 46세 이상</td><td class="px-6 py-4">4.0</td><td class="px-6 py-4">-</td></tr></tbody></table>`;
                } else if (summaryText.includes('외모')) {
                    detail.querySelector('div').innerHTML = `<table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-100"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">항목</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">남성 (20점)</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">여성 (40점)</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><tr><td class="px-6 py-4">상위 5% (연예인급)</td><td class="px-6 py-4">20.0</td><td class="px-6 py-4">40.0</td></tr><tr><td class="px-6 py-4">상위 20% (매우 매력적)</td><td class="px-6 py-4">18.0</td><td class="px-6 py-4">35.0</td></tr><tr><td class="px-6 py-4">평균 이상 (매력적)</td><td class="px-6 py-4">13.0</td><td class="px-6 py-4">25.0</td></tr><tr><td class="px-6 py-4">평균 (보통)</td><td class="px-6 py-4">8.0</td><td class="px-6 py-4">15.0</td></tr><tr><td class="px-6 py-4">평균 이하 (개선 필요)</td><td class="px-6 py-4">3.0</td><td class="px-6 py-4">5.0</td></tr></tbody></table>`;
                }
            });

            calculateBtn.addEventListener('click', () => {
                const maleScore = calculateScore('male');
                const femaleScore = calculateScore('female');

                if (maleScore === null || femaleScore === null) {
                    alert('모든 핵심 항목을 선택해주세요.');
                    return;
                }

                const maleTierInfo = getTier(maleScore);
                const femaleTierInfo = getTier(femaleScore);

                document.getElementById('male-score').textContent = maleScore.toFixed(1);
                const maleTierEl = document.getElementById('male-tier');
                maleTierEl.textContent = maleTierInfo.tier;
                maleTierEl.className = `text-2xl font-semibold px-4 py-1 rounded-full inline-block ${maleTierInfo.className}`;
                document.getElementById('male-result-card').className = `text-center p-6 rounded-xl ${maleTierInfo.className} ${maleTierInfo.borderClassName}`;

                document.getElementById('female-score').textContent = femaleScore.toFixed(1);
                const femaleTierEl = document.getElementById('female-tier');
                femaleTierEl.textContent = femaleTierInfo.tier;
                femaleTierEl.className = `text-2xl font-semibold px-4 py-1 rounded-full inline-block ${femaleTierInfo.className}`;
                document.getElementById('female-result-card').className = `text-center p-6 rounded-xl ${femaleTierInfo.className} ${femaleTierInfo.borderClassName}`;
                
                document.getElementById('male-match-status').innerHTML = `<strong>남성 기준:</strong> ${getMatchStatus(maleScore, femaleScore)}`;
                document.getElementById('female-match-status').innerHTML = `<strong>여성 기준:</strong> ${getMatchStatus(femaleScore, maleScore)}`;

                resultsContainer.classList.remove('hidden');
                resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
            });
        });
    </script>
</body>
</html>

